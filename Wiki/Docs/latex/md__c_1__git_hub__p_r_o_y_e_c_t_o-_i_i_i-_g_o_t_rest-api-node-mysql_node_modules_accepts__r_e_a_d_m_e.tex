\href{https://npmjs.org/package/accepts}{\texttt{ }} \href{https://npmjs.org/package/accepts}{\texttt{ }} \href{https://nodejs.org/en/download}{\texttt{ }} \href{https://travis-ci.org/jshttp/accepts}{\texttt{ }} \href{https://coveralls.io/r/jshttp/accepts?branch=master}{\texttt{ }}

Higher level content negotiation based on \href{https://www.npmjs.com/package/negotiator}{\texttt{ negotiator}}. Extracted from \href{https://www.npmjs.com/package/koa}{\texttt{ koa}} for general use.

In addition to negotiator, it allows\+:


\begin{DoxyItemize}
\item Allows types as an array or arguments list, ie `(\mbox{[}\textquotesingle{}text/html', \textquotesingle{}application/json\textquotesingle{}\mbox{]}){\ttfamily  as well as}(\textquotesingle{}text/html\textquotesingle{}, \textquotesingle{}application/json\textquotesingle{}){\ttfamily .}
\item {\ttfamily Allows type shorthands such as}json{\ttfamily .}
\item {\ttfamily Returns}false{\ttfamily when no types match}
\item {\ttfamily Treats non-\/existent headers as}$\ast$\`{}
\end{DoxyItemize}\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3537}{}\doxysection{Installation}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3537}
This is a \href{https://nodejs.org/en/}{\texttt{ Node.\+js}} module available through the \href{https://www.npmjs.com/}{\texttt{ npm registry}}. Installation is done using the \href{https://docs.npmjs.com/getting-started/installing-npm-packages-locally}{\texttt{ {\ttfamily npm install} command}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install accepts}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3538}{}\doxysection{A\+PI}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3538}

\begin{DoxyCode}{0}
\DoxyCodeLine{var accepts = require('accepts')}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3539}{}\doxysubsection{accepts(req)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3539}
Create a new {\ttfamily Accepts} object for the given {\ttfamily req}.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3540}{}\doxysubsubsection{.\+charset(charsets)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3540}
Return the first accepted charset. If nothing in {\ttfamily charsets} is accepted, then {\ttfamily false} is returned.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3541}{}\doxysubsubsection{.\+charsets()}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3541}
Return the charsets that the request accepts, in the order of the client\textquotesingle{}s preference (most preferred first).\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3542}{}\doxysubsubsection{.\+encoding(encodings)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3542}
Return the first accepted encoding. If nothing in {\ttfamily encodings} is accepted, then {\ttfamily false} is returned.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3543}{}\doxysubsubsection{.\+encodings()}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3543}
Return the encodings that the request accepts, in the order of the client\textquotesingle{}s preference (most preferred first).\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3544}{}\doxysubsubsection{.\+language(languages)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3544}
Return the first accepted language. If nothing in {\ttfamily languages} is accepted, then {\ttfamily false} is returned.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3545}{}\doxysubsubsection{.\+languages()}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3545}
Return the languages that the request accepts, in the order of the client\textquotesingle{}s preference (most preferred first).\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3546}{}\doxysubsubsection{.\+type(types)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3546}
Return the first accepted type (and it is returned as the same text as what appears in the {\ttfamily types} array). If nothing in {\ttfamily types} is accepted, then {\ttfamily false} is returned.

The {\ttfamily types} array can contain full M\+I\+ME types or file extensions. Any value that is not a full M\+I\+ME types is passed to `require(\textquotesingle{}mime-\/types').lookup\`{}.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3547}{}\doxysubsubsection{.\+types()}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3547}
Return the types that the request accepts, in the order of the client\textquotesingle{}s preference (most preferred first).\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3548}{}\doxysection{Examples}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3548}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3549}{}\doxysubsection{Simple type negotiation}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3549}
This simple example shows how to use {\ttfamily accepts} to return a different typed respond body based on what the client wants to accept. The server lists it\textquotesingle{}s preferences in order and will get back the best match between the client and server.


\begin{DoxyCode}{0}
\DoxyCodeLine{var accepts = require('accepts')}
\DoxyCodeLine{var http = require('http')}
\DoxyCodeLine{}
\DoxyCodeLine{function app (req, res) \{}
\DoxyCodeLine{  var accept = accepts(req)}
\DoxyCodeLine{}
\DoxyCodeLine{  // the order of this list is significant; should be server preferred order}
\DoxyCodeLine{  switch (accept.type(['json', 'html'])) \{}
\DoxyCodeLine{    case 'json':}
\DoxyCodeLine{      res.setHeader('Content-\/Type', 'application/json')}
\DoxyCodeLine{      res.write('\{"hello":"world!"\}')}
\DoxyCodeLine{      break}
\DoxyCodeLine{    case 'html':}
\DoxyCodeLine{      res.setHeader('Content-\/Type', 'text/html')}
\DoxyCodeLine{      res.write('<b>hello, world!</b>')}
\DoxyCodeLine{      break}
\DoxyCodeLine{    default:}
\DoxyCodeLine{      // the fallback is text/plain, so no need to specify it above}
\DoxyCodeLine{      res.setHeader('Content-\/Type', 'text/plain')}
\DoxyCodeLine{      res.write('hello, world!')}
\DoxyCodeLine{      break}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  res.end()}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{http.createServer(app).listen(3000)}
\end{DoxyCode}


You can test this out with the c\+U\+RL program\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{curl -\/I -\/H'Accept: text/html' http://localhost:3000/}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3550}{}\doxysection{License}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api-node-mysql_node_modules_accepts__r_e_a_d_m_e_autotoc_md3550}
\mbox{[}M\+IT\mbox{]}(L\+I\+C\+E\+N\+SE) 