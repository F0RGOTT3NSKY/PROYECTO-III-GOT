\begin{quote}
Clone a Node.\+js H\+T\+TP response stream \end{quote}


\href{https://travis-ci.org/lukechilds/clone-response}{\texttt{ }} \href{https://coveralls.io/github/lukechilds/clone-response?branch=master}{\texttt{ }} \href{https://www.npmjs.com/package/clone-response}{\texttt{ }} \href{https://www.npmjs.com/package/clone-response}{\texttt{ }}

Returns a new stream and copies over all properties and methods from the original response giving you a complete duplicate.

This is useful in situations where you need to consume the response stream but also want to pass an unconsumed stream somewhere else to be consumed later.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md646}{}\doxysection{Install}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md646}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm install -\/-\/save clone-\/response}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md647}{}\doxysection{Usage}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md647}

\begin{DoxyCode}{0}
\DoxyCodeLine{const http = require('http');}
\DoxyCodeLine{const cloneResponse = require('clone-\/response');}
\DoxyCodeLine{}
\DoxyCodeLine{http.get('http://example.com', response => \{}
\DoxyCodeLine{  const clonedResponse = cloneResponse(response);}
\DoxyCodeLine{  response.pipe(process.stdout);}
\DoxyCodeLine{}
\DoxyCodeLine{  setImmediate(() => \{}
\DoxyCodeLine{    // The response stream has already been consumed by the time this executes,}
\DoxyCodeLine{    // however the cloned response stream is still available.}
\DoxyCodeLine{    doSomethingWithResponse(clonedResponse);}
\DoxyCodeLine{  \});}
\DoxyCodeLine{\});}
\end{DoxyCode}


Please bear in mind that the process of cloning a stream consumes it. However, you can consume a stream multiple times in the same tick, therefore allowing you to create multiple clones. e.\+g\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const clone1 = cloneResponse(response);}
\DoxyCodeLine{const clone2 = cloneResponse(response);}
\DoxyCodeLine{// response can still be consumed in this tick but cannot be consumed if passed}
\DoxyCodeLine{// into any async callbacks. clone1 and clone2 can be passed around and be}
\DoxyCodeLine{// consumed in the future.}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md648}{}\doxysection{A\+PI}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md648}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md649}{}\doxysubsection{clone\+Response(response)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md649}
Returns a clone of the passed in response.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md650}{}\doxysubsubsection{response}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md650}
Type\+: {\ttfamily stream}

A \href{https://nodejs.org/api/http.html\#http_class_http_incomingmessage}{\texttt{ Node.\+js H\+T\+TP response stream}} to clone.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md651}{}\doxysection{License}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_clone-response__r_e_a_d_m_e_autotoc_md651}
M\+IT Â© Luke Childs 