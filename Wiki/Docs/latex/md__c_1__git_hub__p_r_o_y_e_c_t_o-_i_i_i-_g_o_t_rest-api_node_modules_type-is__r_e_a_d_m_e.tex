\href{https://npmjs.org/package/type-is}{\texttt{ }} \href{https://npmjs.org/package/type-is}{\texttt{ }} \href{https://nodejs.org/en/download}{\texttt{ }} \href{https://travis-ci.org/jshttp/type-is}{\texttt{ }} \href{https://coveralls.io/r/jshttp/type-is?branch=master}{\texttt{ }}

Infer the content-\/type of a request.\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3284}{}\doxysubsection{Install}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3284}
This is a \href{https://nodejs.org/en/}{\texttt{ Node.\+js}} module available through the \href{https://www.npmjs.com/}{\texttt{ npm registry}}. Installation is done using the \href{https://docs.npmjs.com/getting-started/installing-npm-packages-locally}{\texttt{ {\ttfamily npm install} command}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install type-\/is}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3285}{}\doxysection{A\+PI}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3285}

\begin{DoxyCode}{0}
\DoxyCodeLine{var http = require('http')}
\DoxyCodeLine{var typeis = require('type-\/is')}
\DoxyCodeLine{}
\DoxyCodeLine{http.createServer(function (req, res) \{}
\DoxyCodeLine{  var istext = typeis(req, ['text/*'])}
\DoxyCodeLine{  res.end('you ' + (istext ? 'sent' : 'did not send') + ' me text')}
\DoxyCodeLine{\})}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3286}{}\doxysubsection{typeis(request, types)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3286}
Checks if the {\ttfamily request} is one of the {\ttfamily types}. If the request has no body, even if there is a {\ttfamily Content-\/\+Type} header, then {\ttfamily null} is returned. If the {\ttfamily Content-\/\+Type} header is invalid or does not matches any of the {\ttfamily types}, then {\ttfamily false} is returned. Otherwise, a string of the type that matched is returned.

The {\ttfamily request} argument is expected to be a Node.\+js H\+T\+TP request. The {\ttfamily types} argument is an array of type strings.

Each type in the {\ttfamily types} array can be one of the following\+:


\begin{DoxyItemize}
\item A file extension name such as {\ttfamily json}. This name will be returned if matched.
\item A mime type such as {\ttfamily application/json}.
\item A mime type with a wildcard such as {\ttfamily $\ast$/$\ast$} or {\ttfamily $\ast$/json} or {\ttfamily application/$\ast$}. The full mime type will be returned if matched.
\item A suffix such as {\ttfamily +json}. This can be combined with a wildcard such as {\ttfamily $\ast$/vnd+json} or {\ttfamily application/$\ast$+json}. The full mime type will be returned if matched.
\end{DoxyItemize}

Some examples to illustrate the inputs and returned value\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{// req.headers.content-\/type = 'application/json'}
\DoxyCodeLine{}
\DoxyCodeLine{typeis(req, ['json']) // => 'json'}
\DoxyCodeLine{typeis(req, ['html', 'json']) // => 'json'}
\DoxyCodeLine{typeis(req, ['application/*']) // => 'application/json'}
\DoxyCodeLine{typeis(req, ['application/json']) // => 'application/json'}
\DoxyCodeLine{}
\DoxyCodeLine{typeis(req, ['html']) // => false}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3287}{}\doxysubsection{typeis.\+has\+Body(request)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3287}
Returns a Boolean if the given {\ttfamily request} has a body, regardless of the {\ttfamily Content-\/\+Type} header.

Having a body has no relation to how large the body is (it may be 0 bytes). This is similar to how file existence works. If a body does exist, then this indicates that there is data to read from the Node.\+js request stream.


\begin{DoxyCode}{0}
\DoxyCodeLine{if (typeis.hasBody(req)) \{}
\DoxyCodeLine{  // read the body, since there is one}
\DoxyCodeLine{}
\DoxyCodeLine{  req.on('data', function (chunk) \{}
\DoxyCodeLine{    // ...}
\DoxyCodeLine{  \})}
\DoxyCodeLine{\}}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3288}{}\doxysubsection{typeis.\+is(media\+Type, types)}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3288}
Checks if the {\ttfamily media\+Type} is one of the {\ttfamily types}. If the {\ttfamily media\+Type} is invalid or does not matches any of the {\ttfamily types}, then {\ttfamily false} is returned. Otherwise, a string of the type that matched is returned.

The {\ttfamily media\+Type} argument is expected to be a \href{https://tools.ietf.org/html/rfc6838}{\texttt{ media type}} string. The {\ttfamily types} argument is an array of type strings.

Each type in the {\ttfamily types} array can be one of the following\+:


\begin{DoxyItemize}
\item A file extension name such as {\ttfamily json}. This name will be returned if matched.
\item A mime type such as {\ttfamily application/json}.
\item A mime type with a wildcard such as {\ttfamily $\ast$/$\ast$} or {\ttfamily $\ast$/json} or {\ttfamily application/$\ast$}. The full mime type will be returned if matched.
\item A suffix such as {\ttfamily +json}. This can be combined with a wildcard such as {\ttfamily $\ast$/vnd+json} or {\ttfamily application/$\ast$+json}. The full mime type will be returned if matched.
\end{DoxyItemize}

Some examples to illustrate the inputs and returned value\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var mediaType = 'application/json'}
\DoxyCodeLine{}
\DoxyCodeLine{typeis.is(mediaType, ['json']) // => 'json'}
\DoxyCodeLine{typeis.is(mediaType, ['html', 'json']) // => 'json'}
\DoxyCodeLine{typeis.is(mediaType, ['application/*']) // => 'application/json'}
\DoxyCodeLine{typeis.is(mediaType, ['application/json']) // => 'application/json'}
\DoxyCodeLine{}
\DoxyCodeLine{typeis.is(mediaType, ['html']) // => false}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3289}{}\doxysection{Examples}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3289}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3290}{}\doxysubsection{Example body parser}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3290}

\begin{DoxyCode}{0}
\DoxyCodeLine{var express = require('express')}
\DoxyCodeLine{var typeis = require('type-\/is')}
\DoxyCodeLine{}
\DoxyCodeLine{var app = express()}
\DoxyCodeLine{}
\DoxyCodeLine{app.use(function bodyParser (req, res, next) \{}
\DoxyCodeLine{  if (!typeis.hasBody(req)) \{}
\DoxyCodeLine{    return next()}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  switch (typeis(req, ['urlencoded', 'json', 'multipart'])) \{}
\DoxyCodeLine{    case 'urlencoded':}
\DoxyCodeLine{      // parse urlencoded body}
\DoxyCodeLine{      throw new Error('implement urlencoded body parsing')}
\DoxyCodeLine{    case 'json':}
\DoxyCodeLine{      // parse json body}
\DoxyCodeLine{      throw new Error('implement json body parsing')}
\DoxyCodeLine{    case 'multipart':}
\DoxyCodeLine{      // parse multipart body}
\DoxyCodeLine{      throw new Error('implement multipart body parsing')}
\DoxyCodeLine{    default:}
\DoxyCodeLine{      // 415 error code}
\DoxyCodeLine{      res.statusCode = 415}
\DoxyCodeLine{      res.end()}
\DoxyCodeLine{      break}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\})}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3291}{}\doxysection{License}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_type-is__r_e_a_d_m_e_autotoc_md3291}
\mbox{[}M\+IT\mbox{]}(L\+I\+C\+E\+N\+SE) 