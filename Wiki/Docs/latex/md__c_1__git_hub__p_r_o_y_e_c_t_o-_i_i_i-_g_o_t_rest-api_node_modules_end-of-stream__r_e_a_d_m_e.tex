A node module that calls a callback when a readable/writable/duplex stream has completed or failed. \begin{DoxyVerb}npm install end-of-stream
\end{DoxyVerb}


\href{https://travis-ci.org/mafintosh/end-of-stream}{\texttt{ }}\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_end-of-stream__r_e_a_d_m_e_autotoc_md948}{}\doxysection{Usage}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_end-of-stream__r_e_a_d_m_e_autotoc_md948}
Simply pass a stream and a callback to the {\ttfamily eos}. Both legacy streams, streams2 and stream3 are supported.


\begin{DoxyCode}{0}
\DoxyCodeLine{var eos = require('end-\/of-\/stream');}
\DoxyCodeLine{}
\DoxyCodeLine{eos(readableStream, function(err) \{}
\DoxyCodeLine{  // this will be set to the stream instance}
\DoxyCodeLine{    if (err) return console.log('stream had an error or closed early');}
\DoxyCodeLine{    console.log('stream has ended', this === readableStream);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(writableStream, function(err) \{}
\DoxyCodeLine{    if (err) return console.log('stream had an error or closed early');}
\DoxyCodeLine{    console.log('stream has finished', this === writableStream);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(duplexStream, function(err) \{}
\DoxyCodeLine{    if (err) return console.log('stream had an error or closed early');}
\DoxyCodeLine{    console.log('stream has ended and finished', this === duplexStream);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(duplexStream, \{readable:false\}, function(err) \{}
\DoxyCodeLine{    if (err) return console.log('stream had an error or closed early');}
\DoxyCodeLine{    console.log('stream has finished but might still be readable');}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(duplexStream, \{writable:false\}, function(err) \{}
\DoxyCodeLine{    if (err) return console.log('stream had an error or closed early');}
\DoxyCodeLine{    console.log('stream has ended but might still be writable');}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(readableStream, \{error:false\}, function(err) \{}
\DoxyCodeLine{    // do not treat emit('error', err) as a end-\/of-\/stream}
\DoxyCodeLine{\});}
\end{DoxyCode}
\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_end-of-stream__r_e_a_d_m_e_autotoc_md949}{}\doxysection{License}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_end-of-stream__r_e_a_d_m_e_autotoc_md949}
M\+IT\hypertarget{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_end-of-stream__r_e_a_d_m_e_autotoc_md950}{}\doxysection{Related}\label{md__c_1__git_hub__p_r_o_y_e_c_t_o-_i_i_i-_g_o_t_rest-api_node_modules_end-of-stream__r_e_a_d_m_e_autotoc_md950}
{\ttfamily end-\/of-\/stream} is part of the \href{https://github.com/maxogden/mississippi}{\texttt{ mississippi stream utility collection}} which includes more useful stream modules similar to this one. 